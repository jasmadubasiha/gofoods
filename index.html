<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoFoods Deliver | Premium</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2ecc71;
            --secondary: #27ae60;
            --accent: #e67e22;
            --dark: #2c3e50;
            --light: #ffffff;
            --bg: #f0f2f5;
        }

        body {
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            margin: 0;
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 450px;
            animation: fadeInUp 0.6s ease-out;
        }

        h1 {
            color: var(--dark);
            text-align: center;
            font-size: 32px;
            margin-bottom: 30px;
            font-weight: 600;
            letter-spacing: -1px;
        }

        h1 span { color: var(--primary); }

        label {
            font-weight: 600;
            color: var(--dark);
            font-size: 14px;
            margin-top: 20px;
            display: block;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #eee;
            border-radius: 12px;
            box-sizing: border-box;
            font-size: 15px;
            transition: all 0.3s ease;
            margin-top: 8px;
            background: #fdfdfd;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 10px rgba(46, 204, 113, 0.2);
        }

        /* Location Bar Special Style */
        .location-success {
            background-color: #e8f5e9 !important;
            border-color: var(--primary) !important;
            color: #2e7d32 !important;
            animation: pulse 0.5s ease-in-out;
        }

        /* Buttons */
        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            color: white;
            font-size: 16px;
            font-weight: 600;
            border-radius: 12px;
            margin-top: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn:active { transform: scale(0.98); }

        .whatsapp-btn { background: #25D366; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3); }
        .call-btn { background: var(--dark); }
        .unlock-btn { background: var(--primary); }
        .location-btn { background: #3498db; }
        .final-btn { 
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            font-size: 18px;
            margin-top: 30px;
            box-shadow: 0 10px 20px rgba(46, 204, 113, 0.3);
        }

        /* Overlays */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(8px);
            display: flex; justify-content: center; align-items: center; z-index: 1000;
        }

        .modal-box {
            background: white; padding: 40px; border-radius: 25px;
            text-align: center; width: 85%; max-width: 380px;
            animation: fadeInUp 0.4s ease-out;
        }

        /* Quantity Control */
        .qty-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #f8f9fa;
            padding: 10px 20px;
            border-radius: 15px;
            margin-top: 10px;
            border: 1px solid #eee;
        }

        .qty-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .total-box {
            margin-top: 30px;
            padding: 20px;
            background: var(--dark);
            color: var(--primary);
            text-align: center;
            border-radius: 15px;
            font-size: 22px;
            font-weight: 600;
            border: 2px solid var(--primary);
        }

        #bankDetails, #qrDetails, #uploadSection {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #fff9f5;
            border-radius: 12px;
            border: 1px dashed var(--accent);
            animation: fadeInUp 0.3s ease;
        }

        .qr-code-img { width: 100%; max-width: 200px; border-radius: 15px; margin: 10px 0; }
        #previewImg { width: 100%; border-radius: 10px; margin-top: 10px; display: none; }

        #mainApp { opacity: 0.1; pointer-events: none; transition: opacity 0.5s; }
    </style>
</head>
<body>

<div id="noticeOverlay" class="overlay">
    <div class="modal-box">
        <div style="font-size: 50px; margin-bottom: 10px;">üìç</div>
        <h3 style="color: var(--dark); margin-bottom: 15px;">‡∑É‡∑ö‡∑Ä‡∑è ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫‡∂±‡∑ä</h3>
        <p style="color: #666; font-size: 14px; line-height: 1.6;">‡∂Ö‡∂∏‡∑ä‡∂∂‡∂Ω‡∂±‡∑ä‡∂≠‡∑ú‡∂ß, ‡∂∏‡∑è‡∂∏‡∂©‡∂Ω, ‡∂±‡∑ù‡∂±‡∂ú‡∂∏, ‡∑Ñ‡∑ê‡∂©‡∑Ä‡∑í‡∂±‡∑ä‡∂±, ‡∂∂‡∂ª‡∑Ä‡∂ö‡∑î‡∂π‡∑î‡∂ö, ‡∂∂‡∑ê‡∂∏‡∑í‡∂±‡∑í‡∂∫‡∂±‡∑ä‡∑Ä‡∑í‡∂Ω ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∑Ä‡∂Ω‡∂ß ‡∂¥‡∂∏‡∂´‡∂ö‡∑ä ‡∂á‡∂±‡∑Ä‡∑î‡∂∏‡∑ä ‡∂∂‡∑è‡∂ª‡∂ú‡∂±‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ö.</p>
        <button class="btn unlock-btn" onclick="closeNotice()">‡∂¥‡∑í‡∑Ö‡∑í‡∂ú‡∂±‡∑ä‡∂±‡∑Ä‡∑è (OK)</button>
    </div>
</div>

<div id="lockOverlay" class="overlay" style="display:none;">
    <div class="modal-box">
        <h2 style="margin-bottom: 10px;">GoFoods <span>Unlock</span></h2>
        <p style="font-size: 13px; color: #777; margin-bottom: 20px;">‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä ‡∑É‡∂ö‡∑ä‚Äç‡∂ª‡∑í‡∂∫ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß PIN ‡∂Ö‡∂Ç‡∂ö‡∂∫ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
        <a href="https://wa.me/94776885969?text=Pin%20number" target="_blank" class="btn whatsapp-btn">üì© Get PIN (WhatsApp)</a>
        <a href="tel:+94776885969" class="btn call-btn">üìû Call for PIN</a>
        <hr style="margin: 25px 0; border: 0; border-top: 1px solid #eee;">
        <input type="password" id="entryPin" placeholder="PIN ‡∂Ö‡∂Ç‡∂ö‡∂∫ ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂Ω‡∑í‡∂∫‡∂±‡∑ä‡∂±" style="text-align: center; letter-spacing: 5px;">
        <button class="btn unlock-btn" onclick="unlockSite()">‡∂á‡∂≠‡∑î‡∑Ö‡∑î ‡∑Ä‡∂±‡∑ä‡∂±</button>
    </div>
</div>

<div class="container" id="mainApp">
    <h1>GoFoods <span>Deliver</span></h1>
    
    <div id="formFields">
        <label>‡∂î‡∂∂‡∑ö ‡∂±‡∂∏</label>
        <input type="text" id="name" placeholder="‡∂±‡∂∏ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±">

        <label>‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫</label>
        <input type="tel" id="phone" placeholder="07xxxxxxxx">
        
        <label>‡∂¥‡∑í‡∑Ñ‡∑í‡∂ß‡∑ì‡∂∏ (GPS Location)</label>
        <button type="button" id="locBtn" class="btn location-btn" onclick="getLocation()">üìç Get My Location</button>
        <input type="text" id="address" placeholder="Location ‡∂Ω‡∂∂‡∑è‡∂ú‡∂≠‡∑ä ‡∂¥‡∑É‡∑î ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂Ø‡∑í‡∑É‡∑ä‡∑Ä‡∑ö" readonly>

        <label>‡∂Ü‡∑Ñ‡∑è‡∂ª ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫</label>
        <select id="food" onchange="calculateTotal()">
            <option value="0">-- ‡∂Ü‡∑Ñ‡∑è‡∂ª‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂± --</option>
            <option value="1100">‡∂†‡∑í‡∂ö‡∂±‡∑ä ‡∂ª‡∂∫‡∑í‡∑É‡∑ä - ‡∂ª‡∑î. 1100</option>
            <option value="1400">‡∂∏‡∑í‡∂ö‡∑ä‡∑É‡∑ä ‡∂ª‡∂∫‡∑í‡∑É‡∑ä - ‡∂ª‡∑î. 1400</option>
            <option value="990">‡∂ö‡∑ú‡∂≠‡∑ä‡∂≠‡∑î Full - ‡∂ª‡∑î. 990</option>
            <option value="500">‡∂†‡∑í‡∂ö‡∂±‡∑ä ‡∂ª‡∂∫‡∑í‡∑É‡∑ä (Normal) - ‡∂ª‡∑î. 500</option>
        </select>

        <label>‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫ (Quantity)</label>
        <div class="qty-container">
            <button class="qty-btn" onclick="updateQty(-1)">‚àí</button>
            <span id="qtyValue">1</span>
            <button class="qty-btn" onclick="updateQty(1)">+</button>
        </div>

        <label>‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫ (Delivery Area)</label>
        <select id="area" onchange="calculateTotal()">
            <option value="0">-- ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂± --</option>
            <option value="200">‡∂Ö‡∂∏‡∑ä‡∂∂‡∂Ω‡∂±‡∑ä‡∂≠‡∑ú‡∂ß (200)</option>
            <option value="300">‡∂∏‡∑è‡∂∏‡∂©‡∂Ω (300)</option>
            <option value="200">‡∂±‡∑ù‡∂±‡∂ú‡∂∏ (200)</option>
            <option value="400">‡∑Ñ‡∑ê‡∂©‡∑Ä‡∑í‡∂±‡∑ä‡∂± (400)</option>
            <option value="450">‡∂∂‡∂ª‡∑Ä‡∂ö‡∑î‡∂π‡∑î‡∂ö (450)</option>
            <option value="350">‡∂∂‡∑ê‡∂∏‡∑í‡∂±‡∑í‡∂∫‡∂±‡∑ä‡∑Ä‡∑í‡∂Ω (350)</option>
        </select>

        <label>‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∑Ä‡∑ö‡∂Ω‡∑è‡∑Ä</label>
        <input type="time" id="deliveryTime">

        <label>‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç ‡∂ã‡∂¥‡∂Ø‡∑ô‡∑É‡∑ä</label>
        <textarea id="notes" rows="2" placeholder="‡∑É‡∑ê‡∂ª ‡∂Ö‡∂©‡∑î‡∑Ä‡∑ô‡∂±‡∑ä, ‡∂Ω‡∑î‡∂´‡∑î ‡∑Ä‡∑ê‡∂©‡∑í‡∂∫‡∑ô‡∂±‡∑ä..."></textarea>

        <div class="total-box" id="displayTotal">‡∂∏‡∑î‡∑Ö‡∑î ‡∂ú‡∑è‡∑É‡∑ä‡∂≠‡∑î‡∑Ä: ‡∂ª‡∑î. 0.00</div>

        <label>‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂∫</label>
        <select id="payMethod" onchange="togglePaymentDetails()">
            <option value="">-- ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂± --</option>
            <option value="Online Bank Transfer">Online Bank Transfer</option>
            <option value="People's Pay QR Scan">People's Pay QR Scan</option>
        </select>

        <div id="bankDetails">
            <p style="margin:0; font-weight:bold; color:var(--accent);">People's Bank</p>
            <p style="margin:5px 0; font-size:14px;">Acc: 072200170040756<br>Name: Sachi foods</p>
        </div>
        
        <div id="qrDetails">
            <img src="https://i.ibb.co/L5YwN6v/30246.jpg" class="qr-code-img">
            <p style="font-size:12px; color:#777;">QR ‡∂ë‡∂ö Scan ‡∂ö‡∂ª ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂ú‡∑ô‡∑Ä‡∂±‡∑ä‡∂±</p>
        </div>
        
        <div id="uploadSection">
            <label style="margin-top:0">‡∂ú‡∑ô‡∑Ä‡∑ñ Slip ‡∂¥‡∂≠ ‡∂Ö‡∂¥‡∑ä‡∂Ω‡∑ù‡∂©‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</label>
            <input type="file" id="slipInput" accept="image/*" onchange="previewSlip(event)">
            <img id="previewImg">
        </div>

        <button class="btn final-btn" id="finalBtn" onclick="sendFinalOrder()">‚úÖ Confirm Order & Pay</button>
    </div>

    <div id="doneSection" style="display:none; text-align:center;">
        <div style="font-size: 60px;">üéâ</div>
        <h2 style="color: var(--primary);">‡∂á‡∂´‡∑Ä‡∑î‡∂∏ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∂∫‡∑í!</h2>
        <p style="color: #666;">‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª WhatsApp ‡∑Ñ‡∂ª‡∑Ñ‡∑è ‡∂∫‡∑Ä‡∂± ‡∂Ω‡∂Ø‡∑ì.</p>
        <button class="btn call-btn" onclick="location.reload()">‡∂∏‡∑î‡∂Ω‡∂ß ‡∂∫‡∂±‡∑ä‡∂±</button>
    </div>
</div>

<script>
    const securePins = ["1997", "1112", "2020"];
    let quantity = 1;

    function closeNotice() {
        document.getElementById('noticeOverlay').style.display = 'none';
        document.getElementById('lockOverlay').style.display = 'flex';
    }

    function unlockSite() { 
        if (securePins.includes(document.getElementById('entryPin').value)) { 
            document.getElementById('lockOverlay').style.display = "none"; 
            document.getElementById('mainApp').style.opacity = "1"; 
            document.getElementById('mainApp').style.pointerEvents = "auto"; 
        } else { alert("‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í PIN ‡∂Ö‡∂Ç‡∂ö‡∂∫‡∂ö‡∑ä!"); } 
    }

    function updateQty(val) { 
        quantity += val; 
        if (quantity < 1) quantity = 1; 
        document.getElementById('qtyValue').innerText = quantity; 
        calculateTotal(); 
    }

    function calculateTotal() { 
        let f = parseFloat(document.getElementById('food').value) || 0; 
        let a = parseFloat(document.getElementById('area').value) || 0;
        let total = (f * quantity) + a; 
        document.getElementById('displayTotal').innerText = "‡∂∏‡∑î‡∑Ö‡∑î ‡∂ú‡∑è‡∑É‡∑ä‡∂≠‡∑î‡∑Ä: ‡∂ª‡∑î. " + total.toFixed(2); 
    }

    function togglePaymentDetails() {
        let m = document.getElementById('payMethod').value;
        document.getElementById('bankDetails').style.display = (m === "Online Bank Transfer") ? 'block' : 'none';
        document.getElementById('uploadSection').style.display = (m === "Online Bank Transfer") ? 'block' : 'none';
        document.getElementById('qrDetails').style.display = (m === "People's Pay QR Scan") ? 'block' : 'none';
    }

    function previewSlip(event) {
        let reader = new FileReader();
        reader.onload = function(){ 
            const img = document.getElementById('previewImg');
            img.src = reader.result; 
            img.style.display = "block"; 
        };
        reader.readAsDataURL(event.target.files[0]);
    }

    function getLocation() {
        let btn = document.getElementById('locBtn');
        let bar = document.getElementById('address');
        btn.innerText = "‚è≥ ‡∑É‡∑ú‡∂∫‡∂∏‡∑í‡∂±‡∑ä...";

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition((p) => {
                bar.value = `üìç GPS: https://www.google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`;
                bar.classList.add("location-success");
                btn.innerText = "‚úÖ Location Linked";
                btn.style.backgroundColor = "#27ae60";
            }, (err) => {
                alert("GPS ‡∂Ω‡∂∂‡∑è‡∂ú‡∂≠ ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö. ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∑Ä‡∂ª‡∂ö‡∑ä ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.");
                btn.innerText = "üìç Get My Location";
            }, { timeout: 10000 });
        }
    }

    function sendFinalOrder() {
        let name = document.getElementById('name').value;
        let phone = document.getElementById('phone').value;
        let payMethod = document.getElementById('payMethod').value;
        
        if(!name || !phone || !payMethod) { 
            alert("‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±."); 
            return; 
        }

        let food = document.getElementById('food').options[document.getElementById('food').selectedIndex].text;
        let area = document.getElementById('area').options[document.getElementById('area').selectedIndex].text;
        let total = document.getElementById('displayTotal').innerText;
        let notes = document.getElementById('notes').value || "‡∂±‡∑ê‡∂≠";
        let time = document.getElementById('deliveryTime').value || "‡∂±‡∑ê‡∂≠";
        let loc = document.getElementById('address').value || "‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠";

        let finalMsg = `*GoFoods New Order*%0A‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ%0Aüë§ ‡∂±‡∂∏: ${name}%0Aüìû ‡∂Ö‡∂Ç‡∂ö‡∂∫: ${phone}%0Aüçî ‡∂Ü‡∑Ñ‡∑è‡∂ª‡∂∫: ${food}%0Aüî¢ ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫: ${quantity}%0Aüìç ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫: ${area}%0A‚è∞ ‡∑Ä‡∑ö‡∂Ω‡∑è‡∑Ä: ${time}%0Aüí≥ ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏: ${payMethod}%0Aüìù ‡∑É‡∂ß‡∑Ñ‡∂±‡∑ä: ${notes}%0Aüí∞ ${total}%0A‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ%0Aüó∫Ô∏è Location: ${loc}`;
        
        window.open(`https://wa.me/94776885969?text=${finalMsg}`, '_blank');
        
        document.getElementById('formFields').style.display = 'none';
        document.getElementById('doneSection').style.display = 'block';
    }
</script>

</body>
</html>